---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  fig.dev = "grDevices::png",
  dpi = 300L,
  dev.args = list(),
  fig.ext = "png",
  fig.height=8,
  fig.width=12,
  fig.retina = 2L,
  fig.align = "center"
)
```

# ggkegg

## Installation

```{r, eval=FALSE}
devtools::install_github("noriakis/ggkegg")
```
## Example

```{r, message=FALSE, warning=FALSE}
library(ggkegg)
library(ggfx)
library(igraph)
g <- parse_kgml("hsa04110.xml")
pseudo_lfc <- sample(seq(0,3,0.1), length(V(g)), replace=TRUE)
names(pseudo_lfc) <- V(g)$name
ggkegg("hsa04110",
  convert_org = c("pathway","hsa","ko"),
  numeric_attribute = pseudo_lfc)+
  geom_edge_link(
    aes(color=subtype),
    arrow = arrow(length = unit(1, 'mm')), 
    end_cap = circle(5, 'mm'),
    start_cap = circle(5, "mm")) + 
  geom_node_rect(type="gene", rect_fill="numeric_attribute")+
  geom_node_text(aes(label=converted_name,
                     filter=type %in% c("gene")),size=2.5, color="black")+
  with_outer_glow(geom_node_text(aes(label=converted_name,
                                     filter=converted_name=="PCNA"),
                                 size=2.5, color="red"), colour="white",expand=4)+
  scale_edge_color_manual(values=viridis::cividis(6))+
  scale_fill_viridis(name="LFC")+
  theme_graph()+
  theme(plot.background = element_rect(fill = "transparent",colour = NA))
```
